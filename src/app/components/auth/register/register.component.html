<div id="register-page">
  <form layout-align='center center' [formGroup]="form" id="register-form" (ngSubmit)="submitForm()">
    <section class="header">
      <svg class="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
        <!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
        <path class="logo-path"
          d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm64 192c17.7 0 32 14.3 32 32v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V256c0-17.7 14.3-32 32-32zm64-64c0-17.7 14.3-32 32-32s32 14.3 32 32V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V160zM320 288c17.7 0 32 14.3 32 32v32c0 17.7-14.3 32-32 32s-32-14.3-32-32V320c0-17.7 14.3-32 32-32z" />
      </svg>
      <h1 class="site-name">Polling App</h1>
      <h2 class="page-name">Create New Account</h2>
    </section>
    <mat-form-field class="form-field field">
      <mat-label>First Name</mat-label>
      <input matInput type="text" formControlName="first_name" placeholder="First Name">
    </mat-form-field>
    <mat-form-field class="form-field field">
      <mat-label>Last Name</mat-label>
      <input matInput type="text" formControlName="last_name" placeholder="Last Name">
    </mat-form-field>
    <mat-form-field class="form-field field">
      <mat-label>Email</mat-label>
      <input matInput type="email" name="email" formControlName="email" placeholder="Email">
      @if (email.hasError('required')) {
        <mat-error class="field-message">Email is required</mat-error>
      }
      @if (email.hasError('email')) {
        <mat-error class="field-message">Please enter a valid email</mat-error>
      }
    </mat-form-field>
    <mat-form-field class="form-field field">
      <mat-label>Password</mat-label>
      <input matInput type="password" name="password" formControlName="password" placeholder="Password">
      @if (password.hasError('required')) {
        <mat-error class="field-message">Password is required</mat-error>
      }
      @if (password.hasError('minlength') && !password.hasError('passwordStrength')) {
        <mat-error class="field-message">Password must have at least 8
        characters</mat-error>
      }
      @if (password.hasError('passwordStrength')) {
        <mat-error class="field-message">Password must have at least 1
        uppercase, 1 lowercase, 1 number and 1 special character</mat-error>
      }
    </mat-form-field>
    <mat-form-field class="form-field field">
      <mat-label>Password</mat-label>
      <input matInput [errorStateMatcher]="matcher" type="password" name="confirm_password"
        formControlName="confirm_password" placeholder="Confirm Password">
      @if (form.hasError('nomatch')) {
        <mat-error class="field-message"> The passwords do not match</mat-error>
      }
      @if (confirm_password.hasError('required')) {
        <mat-error class="field-message">This field is
        required</mat-error>
      }
    </mat-form-field>
    <div class="button-container">
      <button mat-flat-button type="submit" class="button" color="primary" [disabled]="!form.valid">
        Sign Up
      </button>
    </div>
    <p class="login-link">Already have an account? <a routerLink="/login">Login</a></p>
  </form>
</div>
